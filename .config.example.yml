core: # Core configuration settings.
  app: # Application specific configuration
    app_name: Audex # The name of the application.
    app_version: 1.0.1 # The version of the application.
    debug: false # Enable or disable debug mode.
    native: false # Indicates if the application is running in native mode.
    touch: false # Enable or disable touch support.
    fullscreen: false # Enable or disable fullscreen mode.
  logging: # Logging configuration
    targets: # List of logging targets
      - logname: stdout
        loglevel: debug
        rotation: ~
      - logname: stderr
        loglevel: error
        rotation: ~
      - logname: logs\audex.jsonl
        loglevel: info
        rotation:
          size_based:
            max_size: 10
            backup_count: 5
          time_based: ~
  audio: # Audio processing configuration
    sample_rate: 16000 # The sample rate of the audio in Hz.
    vpr_sample_rate: 16000 # The sample rate for voice print recognition in Hz.
    vpr_text_content: 您好，请问您今天需要什么帮助？ # The text content used for voice print recognition.
    vpr_threshold: 0.4 # The threshold for voice print recognition similarity.
    key_prefix: audex # The prefix for storing audio files in cloud storage.
    segment_buffer: 2000 # The buffer time in milliseconds for audio segmentation.
  session: # Session management configuration
    ttl_hours: 168 # Time to live for a session in hours.
provider: # Provider configuration settings.
  transcription: # Transcription provider configuration
    provider: dashscope # The transcription service provider.
    dashscope: # Configuration for Dashscope transcription service.
      credential: # Credentials for Dashscope API access.
        api_key: <UNSET> # Dashscope API key for authentication.
      model: paraformer-realtime-v2 # Dashscope transcription model to use.
      user_agent: ~ # Custom User-Agent header for API requests.
      workspace: ~ # Workspace identifier for Dashscope service.
      websocket: # WebSocket client configuration for Dashscope.
        max_connections: 10 # Maximum concurrent connections to Dashscope API.
        idle_timeout: 60 # Idle timeout in seconds for websocket connections.
        drain_timeout: 5.0 # Timeout in seconds to drain connections on shutdown.
      session: # Session configuration for Dashscope transcription.
        fmt: pcm # Audio format for transcription session.
        silence_duration_ms: ~ # Duration of silence in milliseconds to consider as end of speech.
        vocabulary_id: ~ # Custom vocabulary ID for transcription.
        disfluency_removal_enabled: ~ # Enable disfluency removal in transcription.
        lang_hints: ~ # Language hints for transcription.
        semantic_punctuation: ~ # Enable semantic punctuation in transcription.
        multi_thres_mode: ~ # Enable multi-threshold mode for transcription.
        punctuation_pred: ~ # Enable punctuation prediction in transcription.
        heartbeat: ~ # Enable heartbeat messages during transcription.
        itn: ~ # Enable inverse text normalization in transcription.
        resources: ~ # List of resource identifiers for transcription.
  vpr: # VPR provider configuration
    provider: xfyun # The VPR service provider to use.
    xfyun: # Configuration for the XFYun VPR service.
      credential: # Credentials for XFYun VPR service.
        app_id: <UNSET> # XFYun Application ID. Must be provided for authentication.
        api_key: <UNSET> # XFYun API Key. Must be provided for authentication.
        api_secret: <UNSET> # XFYun API Secret. Must be provided for authentication.
      group_id: ~ # The group ID for voiceprint recognition.
      group_id_path: .xfyun.vpr.gid # The file path to read the group ID from if not provided directly.
      http: # HTTP client configuration for XFYun VPR service.
        proxy: ~ # Proxy URL to route HTTP requests through. Example: 'http://localhost:8080'
        timeout: 10.0 # Timeout in seconds for HTTP requests.
        default_headers: ~ # Default headers to include in every HTTP request.
        default_params: ~ # Default query parameters to include in every HTTP request.
    unisound: # Configuration for the Unisound VPR service.
      credential: # Credentials for Unisound VPR service.
        appkey: <UNSET> # Unisound App Key
        secret: <UNSET> # Unisound Secret
      group_id: ~ # The group ID for voiceprint recognition.
      group_id_path: .unisound.vpr.gid # The file path to read the group ID from if not provided directly.
      http: # HTTP client configuration for Unisound VPR service.
        proxy: ~ # Proxy URL to route HTTP requests through. Example: 'http://localhost:8080'
        timeout: 10.0 # Timeout in seconds for HTTP requests.
        default_headers: ~ # Default headers to include in every HTTP request.
        default_params: ~ # Default query parameters to include in every HTTP request.
infrastructure: # Infrastructure configuration settings.
  sqlite: # SQLite configuration.
    uri: "sqlite+aiosqlite:///./audex.db" # SQLite database URI.
    echo: false # Enable SQL query logging for debugging purposes.
    pool_size: 20 # The size of the database connection pool.
    max_overflow: 10 # The maximum overflow size of the connection pool.
    pool_timeout: 30.0 # The timeout in seconds to wait for a connection from the pool.
    pool_recycle: 3600 # The number of seconds after which a connection is automatically recycled.
    pool_pre_ping: true # Enable connection health checks before using a connection from the pool.
    create_all: true # Whether to create all tables on initialization.
  cache: # Cache configuration.
    provider: inmemory # Type of cache backend to use.
    split_char: ":" # Character used to split cache keys.
    prefix: audex # Prefix for all cache keys.
    inmemory: # Configuration for in-memory cache backend.
      cache_type: ttl # Type of in-memory cache algorithm to use.
      max_size: 1024 # Maximum number of items to store in the cache.
      default_ttl: 300 # Default time-to-live (TTL) for cache items in seconds.
      negative_ttl: 60 # TTL for negative cache entries in seconds.
  store: # Store configuration.
    type: localfile # Type of the store.
    base_url: ./store # Store base URL. In case of 'file' type, it is the local directory path. In case of 'obs' type, it is the OBS bucket URL.
  recorder: # Recorder configuration.
    format: int16 # Audio sample format.
    channels: 1 # Number of audio channels.
    chunk: 1024 # Number of frames per buffer.
    input_device_index: ~ # Index of the input audio device. If None, the default device is used.
